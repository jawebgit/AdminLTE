{"version":3,"sources":["../src/Treeview.js"],"names":[],"mappings":"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","file":"Treeview.js","sourcesContent":["/**\n * --------------------------------------------\n * AdminLTE Treeview.js\n * License MIT\n * --------------------------------------------\n */\n\nconst Treeview = (($) => {\n\n  /**\n   * Constants\n   * ====================================================\n   */\n\n  const NAME               = 'Treeview'\n  const DATA_KEY           = 'lte.treeview'\n  const EVENT_KEY          = `.${DATA_KEY}`\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\n\n  const Event = {\n    SELECTED: `selected${EVENT_KEY}`,\n    EXPANDED: `expanded${EVENT_KEY}`,\n    COLLAPSED: `collapsed${EVENT_KEY}`,\n    LOAD_DATA_API: `load${EVENT_KEY}`\n  }\n\n  const Selector = {\n    LI: '.nav-item',\n    LINK: '.nav-link',\n    TREEVIEW_MENU: '.nav-treeview',\n    OPEN: '.menu-open',\n    DATA_WIDGET: '[data-widget=\"treeview\"]'\n  }\n\n  const ClassName = {\n    LI: 'nav-item',\n    LINK: 'nav-link',\n    TREEVIEW_MENU: 'nav-treeview',\n    OPEN: 'menu-open'\n  }\n\n  const Default = {\n    trigger: `${Selector.DATA_WIDGET} ${Selector.LINK}`,\n    animationSpeed: 300,\n    accordion: false\n  }\n\n  /**\n   * Class Definition\n   * ====================================================\n   */\n  class Treeview {\n\n    constructor(element, config) {\n      this._config  = config\n      this._element = element\n    }\n\n    // Public\n\n    init() {\n      this._setupListeners()\n    }\n\n    expand(treeviewMenu, parentLi) {\n      let expandedEvent = $.Event(Event.EXPANDED)\n\n      if (this._config.accordion) {\n        let openMenuLi   = parentLi.siblings(Selector.OPEN).first()\n        let openTreeview = openMenuLi.find(Selector.TREEVIEW_MENU).first()\n        this.collapse(openTreeview, openMenuLi)\n      }\n\n      treeviewMenu.slideDown(this._config.animationSpeed, () => {\n        parentLi.addClass(ClassName.OPEN)\n        $(this._element).trigger(expandedEvent)\n      })\n    }\n\n    collapse(treeviewMenu, parentLi) {\n      let collapsedEvent = $.Event(Event.COLLAPSED)\n\n      treeviewMenu.slideUp(this._config.animationSpeed, () => {\n        parentLi.removeClass(ClassName.OPEN)\n        $(this._element).trigger(collapsedEvent)\n        treeviewMenu.find(`${Selector.OPEN} > ${Selector.TREEVIEW_MENU}`).slideUp()\n        treeviewMenu.find(Selector.OPEN).removeClass(ClassName.OPEN)\n      })\n    }\n\n    collapseAll() {\n\n    }\n\n    expandAll() {\n\n    }\n\n    toggle(event) {\n      let $relativeTarget = $(event.currentTarget)\n      let treeviewMenu    = $relativeTarget.next()\n\n      if (!treeviewMenu.is(Selector.TREEVIEW_MENU)) {\n        return\n      }\n\n      event.preventDefault()\n\n      let parentLi = $relativeTarget.parents(Selector.LI).first()\n      let isOpen   = parentLi.hasClass(ClassName.OPEN)\n\n      if (isOpen) {\n        this.collapse($(treeviewMenu), parentLi)\n      } else {\n        this.expand($(treeviewMenu), parentLi)\n      }\n    }\n\n    // Private\n\n    _setupListeners() {\n      $(document).on('click', this._config.trigger, (event) => {\n        this.toggle(event)\n      })\n    }\n\n    // Static\n\n    static _jQueryInterface(config) {\n      return this.each(function () {\n        let data    = $(this).data(DATA_KEY)\n        let _config = $.extend({}, Default, $(this).data())\n\n        if (!data) {\n          data = new Treeview($(this), _config)\n          $(this).data(DATA_KEY, data)\n        }\n\n        if (config === 'init') {\n          data[config]()\n        }\n      })\n    }\n\n  }\n\n  /**\n   * Data API\n   * ====================================================\n   */\n\n  $(window).on(Event.LOAD_DATA_API, () => {\n    $(Selector.DATA_WIDGET).each(function () {\n      let $treeview = $(this)\n      Treeview._jQueryInterface.call($treeview, 'init')\n    })\n  })\n\n  /**\n   * jQuery API\n   * ====================================================\n   */\n\n  $.fn[NAME] = Treeview._jQueryInterface\n  $.fn[NAME].Constructor = Treeview\n  $.fn[NAME].noConflict  = function () {\n    $.fn[NAME] = JQUERY_NO_CONFLICT\n    return Treeview._jQueryInterface\n  }\n\n  return Treeview\n\n})(jQuery)\n"]}