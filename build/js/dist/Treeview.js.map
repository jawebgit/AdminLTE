{"version":3,"sources":["../src/Treeview.js"],"names":["Treeview","$","NAME","DATA_KEY","EVENT_KEY","JQUERY_NO_CONFLICT","fn","Event","SELECTED","EXPANDED","COLLAPSED","LOAD_DATA_API","Selector","LI","LINK","TREEVIEW_MENU","OPEN","DATA_WIDGET","ClassName","Default","trigger","animationSpeed","accordion","element","config","_config","_element","_setupListeners","treeviewMenu","parentLi","expandedEvent","openMenuLi","siblings","first","openTreeview","find","collapse","slideDown","addClass","collapsedEvent","slideUp","removeClass","event","$relativeTarget","currentTarget","next","is","preventDefault","parents","isOpen","hasClass","expand","document","on","toggle","each","data","extend","window","$treeview","_jQueryInterface","call","Constructor","noConflict","jQuery"],"mappings":"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","file":"Treeview.js","sourcesContent":["/**\n * --------------------------------------------\n * AdminLTE Treeview.js\n * License MIT\n * --------------------------------------------\n */\n\nconst Treeview = (($) => {\n\n  /**\n   * Constants\n   * ====================================================\n   */\n\n  const NAME               = 'Treeview'\n  const DATA_KEY           = 'lte.treeview'\n  const EVENT_KEY          = `.${DATA_KEY}`\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\n\n  const Event = {\n    SELECTED: `selected${EVENT_KEY}`,\n    EXPANDED: `expanded${EVENT_KEY}`,\n    COLLAPSED: `collapsed${EVENT_KEY}`,\n    LOAD_DATA_API: `load${EVENT_KEY}`\n  }\n\n  const Selector = {\n    LI: '.nav-item',\n    LINK: '.nav-link',\n    TREEVIEW_MENU: '.nav-treeview',\n    OPEN: '.menu-open',\n    DATA_WIDGET: '[data-widget=\"treeview\"]'\n  }\n\n  const ClassName = {\n    LI: 'nav-item',\n    LINK: 'nav-link',\n    TREEVIEW_MENU: 'nav-treeview',\n    OPEN: 'menu-open'\n  }\n\n  const Default = {\n    trigger: `${Selector.DATA_WIDGET} ${Selector.LINK}`,\n    animationSpeed: 300,\n    accordion: true\n  }\n\n  /**\n   * Class Definition\n   * ====================================================\n   */\n  class Treeview {\n\n    constructor(element, config) {\n      this._config  = config\n      this._element = element\n    }\n\n    // Public\n\n    init() {\n      this._setupListeners()\n    }\n\n    expand(treeviewMenu, parentLi) {\n      let expandedEvent = $.Event(Event.EXPANDED)\n\n      if (this._config.accordion) {\n        let openMenuLi   = parentLi.siblings(Selector.OPEN).first()\n        let openTreeview = openMenuLi.find(Selector.TREEVIEW_MENU).first()\n        this.collapse(openTreeview, openMenuLi)\n      }\n\n      treeviewMenu.slideDown(this._config.animationSpeed, () => {\n        parentLi.addClass(ClassName.OPEN)\n        $(this._element).trigger(expandedEvent)\n      })\n    }\n\n    collapse(treeviewMenu, parentLi) {\n      let collapsedEvent = $.Event(Event.COLLAPSED)\n\n      treeviewMenu.slideUp(this._config.animationSpeed, () => {\n        parentLi.removeClass(ClassName.OPEN)\n        $(this._element).trigger(collapsedEvent)\n        treeviewMenu.find(`${Selector.OPEN} > ${Selector.TREEVIEW_MENU}`).slideUp()\n        treeviewMenu.find(Selector.OPEN).removeClass(ClassName.OPEN)\n      })\n    }\n\n    collapseAll() {\n\n    }\n\n    expandAll() {\n\n    }\n\n    toggle(event) {\n      let $relativeTarget = $(event.currentTarget)\n      let treeviewMenu    = $relativeTarget.next()\n\n      if (!treeviewMenu.is(Selector.TREEVIEW_MENU)) {\n        return\n      }\n\n      event.preventDefault()\n\n      let parentLi = $relativeTarget.parents(Selector.LI).first()\n      let isOpen   = parentLi.hasClass(ClassName.OPEN)\n\n      if (isOpen) {\n        this.collapse($(treeviewMenu), parentLi)\n      } else {\n        this.expand($(treeviewMenu), parentLi)\n      }\n    }\n\n    // Private\n\n    _setupListeners() {\n      $(document).on('click', this._config.trigger, (event) => {\n        this.toggle(event)\n      })\n    }\n\n    // Static\n\n    static _jQueryInterface(config) {\n      return this.each(function () {\n        let data    = $(this).data(DATA_KEY)\n        let _config = $.extend({}, Default, $(this).data())\n\n        if (!data) {\n          data = new Treeview($(this), _config)\n          $(this).data(DATA_KEY, data)\n        }\n\n        if (config === 'init') {\n          data[config]()\n        }\n      })\n    }\n\n  }\n\n  /**\n   * Data API\n   * ====================================================\n   */\n\n  $(window).on(Event.LOAD_DATA_API, () => {\n    $(Selector.DATA_WIDGET).each(function () {\n      let $treeview = $(this)\n      Treeview._jQueryInterface.call($treeview, 'init')\n    })\n  })\n\n  /**\n   * jQuery API\n   * ====================================================\n   */\n\n  $.fn[NAME] = Treeview._jQueryInterface\n  $.fn[NAME].Constructor = Treeview\n  $.fn[NAME].noConflict  = function () {\n    $.fn[NAME] = JQUERY_NO_CONFLICT\n    return Treeview._jQueryInterface\n  }\n\n  return Treeview\n\n})(jQuery)\n"]}